<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Customizable Button & Content</title>
    <link
      href="https://unpkg.com/grapesjs/dist/css/grapes.min.css"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/grapesjs"></script>
    <script src="https://unpkg.com/grapesjs-tailwind"></script>
    <style>
      body,
      html {
        margin: 0;
        height: 100%;
      }

      .gjs-block {
        padding: 0 !important;
        width: 100% !important;
        min-height: auto !important;
      }

      .gjs-block svg {
        width: 100%;
      }

      #saveButtons {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 100;
        display: flex;
        gap: 10px;
      }

      .button {
        padding: 10px 20px;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      }

      #saveButton {
        background-color: #4CAF50;
      }

      #saveButton:hover {
        background-color: #45a049;
      }

      #autoSaveToggle {
        background-color: #3498db;
      }

      #autoSaveToggle:hover {
        background-color: #2980b9;
      }

      #autoSaveToggle.active {
        background-color: #e74c3c;
      }

      #autoSaveToggle.active:hover {
        background-color: #c0392b;
      }
    </style>
  </head>

  <body>
    <div id="gjs"></div>
    <div id="saveButtons">
      <button id="saveButton" class="button">Save Project</button>
      <button id="autoSaveToggle" class="button">Enable Auto-Save</button>
    </div>
    <script>
      // Create a GrapesJS plugin for adding the Oswald font
      grapesjs.plugins.add("grapesjs-oswald-font", (editor) => {
        const fontLink =
          "https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700&display=swap";

        // Inject the font into the canvas styles
        editor.on("load", () => {
          const canvasStyles =
            editor.Canvas.getDocument().head.querySelectorAll("style, link");
          const fontExists = Array.from(canvasStyles).some((style) =>
            style.href?.includes("fonts.googleapis.com")
          );

          if (!fontExists) {
            const linkEl = document.createElement("link");
            linkEl.rel = "stylesheet";
            linkEl.href = fontLink;
            editor.Canvas.getDocument().head.appendChild(linkEl);
          }
        });
      });

      // Initialize GrapesJS
      const editor = grapesjs.init({
        container: "#gjs",
        height: "100%",
        fromElement: true,
        storageManager: false,
        plugins: ["grapesjs-tailwind", "grapesjs-oswald-font"],
        canvas: {
          styles: [
            "https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css",
          ],
        },
      });

      // Add a block with an image, title, and description
      editor.BlockManager.add("custom-content-block", {
        label: `
                <div style="text-align: center;">
                    <img src="https://via.placeholder.com/150?text=Content+Preview" alt="Content Preview" style="max-width: 100%; height: auto;">
                </div>`,
        category: "Buttons", 
        content: `
                <div class="w-full text-center font-oswald">
                    <img class="w-full" src="https://via.placeholder.com/300" alt="img" />
                    <p class="pt-12 pb-5 w-[70%] mx-auto text-center text-3xl font-oswald">
                        CLASSIC ENOUGH TO MAKE A STATEMENT. MODERN ENOUGH TO KEEP YOU CONNECTED.
                    </p>
                    <p class="w-[70%] mx-auto text-center text-lg font-oswald">
                        You haven’t seen a smartwatch this small that can do this much. With a flick of your wrist, the stylish patterned lens reveals a bright touchscreen display, and when you’re done, the display disappears.
                    </p>
                </div>`,
      });

     
    </script>
  </body>
</html>
